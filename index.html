<html>

<head>
	<title>A trading card intersection Tool</title>
	<meta charset="UTF-8">
	<script src="http://underscorejs.org/underscore-min.js"></script>
	<script language="JavaScript">
		function trading (form) {
			arr_my_missing = form.my_missing.value.replace(/,/g, ' ').replace(/\s{1,}/g, ' ').split(" ");
			arr_my_double = form.my_double.value.replace(/,/g, ' ').replace(/\s{1,}/g, ' ').split(" ");
			arr_your_double = form.your_double.value.replace(/,/g, ' ').replace(/\s{1,}/g, ' ').split(" ");
			arr_your_missing = form.your_missing.value.replace(/,/g, ' ').replace(/\s{1,}/g, ' ').split(" ");

			form.my_missing.value = arr_my_missing.join(" ")
			form.my_double.value = arr_my_double.join(" ")
			form.your_double.value = arr_your_double.join(" ")
			form.your_missing.value = arr_your_missing.join(" ")

			document.getElementById("count_my_missing").innerHTML = " (" + arr_my_missing.length + ")"
			document.getElementById("count_my_double").innerHTML = " (" + arr_my_double.length + ")"
			document.getElementById("count_your_double").innerHTML = " (" + arr_your_double.length + ")"
			document.getElementById("count_your_missing").innerHTML = " (" + arr_your_missing.length + ")"
			
			document.getElementById("output").innerHTML = "Tauschpartner hat folgende Sticker (" + _.intersection(arr_my_missing, arr_your_double).length + ") für dich: " + _.intersection(arr_my_missing, arr_your_double).join(", ");
			document.getElementById("output2").innerHTML = "Du hast folgende Sticker für den Tauschpartner (" + _.intersection(arr_my_double, arr_your_missing).length + ") : " + _.intersection(arr_my_double, arr_your_missing).join(", ");
		}
	</script>
</head>

<body>
<form name="trade">
Deine fehlenden Sticker<span id="count_my_missing"></span><br>
<textarea name="my_missing" rows="6" cols="180">
5   9  10  11  12  13  14  16  24  37  39  62  71  84  93  98 
104 113 122 123 124 125 126 135 137 153 160 164 
209 228 233 240 247 251 252 253 254 
322 327 342 345 347 349 352 355 378 383 389 392 
413 418 423 452 458 460 461 462 463 464 472 
509 515 531 555 569 570 572 574 575 576 594 
601 604 607 623 630 636 642 663 664 677
</textarea>
<br>
Deine doppelten Sticker<span id="count_my_double"></span><br>
<textarea name="my_double" rows="4" cols="180">
41  69  83  87 
103 105 106 107 107 109 111 111 118 132 154 
266 271 
319 357 365 
467 485 494 
548 549 550 554 566 568 596 
609 609 615 627 653
</textarea>
<br><br>
Tauschpartner sucht folgende Sticker<span id="count_your_missing"></span><br>
<textarea name="your_missing" rows="3" cols="180">
</textarea>
<br>
Tauschpartner bietet folgende Sticker<span id="count_your_double"></span><br>
<textarea name="your_double" rows="3" cols="180">
</textarea>
<br><br>
<input type="button" name="button" Value="Tausch prüfen" onClick="trading(this.form)">
</form>
<p id="output"></p>
<p id="output2"></p>
<br>
<hr>
<p>
	Dieses Tool ist ein Open Source Projekt gehostet auf <a href="https://github.com/Svenaldo/trading-card-intersection/issues">Github</a>.<br>
	<a href="https://github.com/Svenaldo/trading-card-intersection/issues">Bugs, Kommetare, Anregungen</a><br>
</p>
</body>
</html>
